/**
 * Utilities - Text, spacing, display helpers
 */

/* ============================================
   TYPOGRAPHY UTILITIES
   ============================================ */

/* Font Sizes */
.bbai-text-xs { font-size: var(--bbai-text-xs); line-height: var(--bbai-leading-normal); }
.bbai-text-sm { font-size: var(--bbai-text-sm); line-height: var(--bbai-leading-normal); }
.bbai-text-base { font-size: var(--bbai-text-base); line-height: var(--bbai-leading-normal); }
.bbai-text-lg { font-size: var(--bbai-text-lg); line-height: var(--bbai-leading-snug); }
.bbai-text-xl { font-size: var(--bbai-text-xl); line-height: var(--bbai-leading-snug); }
.bbai-text-2xl { font-size: var(--bbai-text-2xl); line-height: var(--bbai-leading-tight); }
.bbai-text-3xl { font-size: var(--bbai-text-3xl); line-height: var(--bbai-leading-tight); }
.bbai-text-4xl { font-size: var(--bbai-text-4xl); line-height: var(--bbai-leading-tight); }
.bbai-text-5xl { font-size: var(--bbai-text-5xl); line-height: var(--bbai-leading-none); }

/* Font Weights */
.bbai-font-normal { font-weight: var(--bbai-font-normal); }
.bbai-font-medium { font-weight: var(--bbai-font-medium); }
.bbai-font-semibold { font-weight: var(--bbai-font-semibold); }
.bbai-font-bold { font-weight: var(--bbai-font-bold); }
.bbai-font-extrabold { font-weight: var(--bbai-font-extrabold); }

/* Line Heights */
.bbai-leading-none { line-height: var(--bbai-leading-none); }
.bbai-leading-tight { line-height: var(--bbai-leading-tight); }
.bbai-leading-snug { line-height: var(--bbai-leading-snug); }
.bbai-leading-normal { line-height: var(--bbai-leading-normal); }
.bbai-leading-relaxed { line-height: var(--bbai-leading-relaxed); }
.bbai-leading-loose { line-height: var(--bbai-leading-loose); }

/* Text Colors */
.bbai-text-primary { color: var(--bbai-text); }
.bbai-text-secondary { color: var(--bbai-text-secondary); }
.bbai-text-muted { color: var(--bbai-text-muted); }
.bbai-text-light { color: var(--bbai-text-light); }
.bbai-text-inverse { color: var(--bbai-text-inverse); }
.bbai-text-success { color: var(--bbai-success); }
.bbai-text-error { color: var(--bbai-error); }
.bbai-text-warning { color: var(--bbai-warning); }
.bbai-text-info { color: var(--bbai-info); }

/* Text Alignment */
.bbai-text-left { text-align: left; }
.bbai-text-center { text-align: center; }
.bbai-text-right { text-align: right; }

/* Heading Styles - Standardized */
.bbai-heading-1,
h1.bbai-heading {
    font-size: var(--bbai-text-3xl);
    font-weight: var(--bbai-font-bold);
    line-height: var(--bbai-leading-tight);
    color: var(--bbai-text);
    margin: 0 0 var(--bbai-space-2) 0;
}

.bbai-heading-2,
h2.bbai-heading {
    font-size: var(--bbai-text-2xl);
    font-weight: var(--bbai-font-semibold);
    line-height: var(--bbai-leading-tight);
    color: var(--bbai-text);
    margin: 0 0 var(--bbai-space-2) 0;
}

.bbai-heading-3,
h3.bbai-heading {
    font-size: var(--bbai-text-xl);
    font-weight: var(--bbai-font-semibold);
    line-height: var(--bbai-leading-snug);
    color: var(--bbai-text);
    margin: 0 0 var(--bbai-space-2) 0;
}

.bbai-heading-4,
h4.bbai-heading {
    font-size: var(--bbai-text-lg);
    font-weight: var(--bbai-font-semibold);
    line-height: var(--bbai-leading-snug);
    color: var(--bbai-text);
    margin: 0 0 var(--bbai-space-2) 0;
}

/* Subtitle Styles */
.bbai-subtitle {
    font-size: var(--bbai-text-base);
    font-weight: var(--bbai-font-normal);
    line-height: var(--bbai-leading-relaxed);
    color: var(--bbai-text-secondary);
    margin: 0;
}

.bbai-subtitle-sm {
    font-size: var(--bbai-text-sm);
    font-weight: var(--bbai-font-normal);
    line-height: var(--bbai-leading-normal);
    color: var(--bbai-text-muted);
    margin: 0;
}

/* ============================================
   SPACING UTILITIES
   ============================================ */

/* Margin Top */
.bbai-mt-0 { margin-top: var(--bbai-space-0); }
.bbai-mt-1 { margin-top: var(--bbai-space-1); }
.bbai-mt-2 { margin-top: var(--bbai-space-2); }
.bbai-mt-3 { margin-top: var(--bbai-space-3); }
.bbai-mt-4 { margin-top: var(--bbai-space-4); }
.bbai-mt-5 { margin-top: var(--bbai-space-5); }
.bbai-mt-6 { margin-top: var(--bbai-space-6); }
.bbai-mt-8 { margin-top: var(--bbai-space-8); }
.bbai-mt-10 { margin-top: var(--bbai-space-10); }
.bbai-mt-12 { margin-top: var(--bbai-space-12); }

/* Margin Bottom */
.bbai-mb-0 { margin-bottom: var(--bbai-space-0); }
.bbai-mb-1 { margin-bottom: var(--bbai-space-1); }
.bbai-mb-2 { margin-bottom: var(--bbai-space-2); }
.bbai-mb-3 { margin-bottom: var(--bbai-space-3); }
.bbai-mb-4 { margin-bottom: var(--bbai-space-4); }
.bbai-mb-5 { margin-bottom: var(--bbai-space-5); }
.bbai-mb-6 { margin-bottom: var(--bbai-space-6); }
.bbai-mb-8 { margin-bottom: var(--bbai-space-8); }
.bbai-mb-10 { margin-bottom: var(--bbai-space-10); }
.bbai-mb-12 { margin-bottom: var(--bbai-space-12); }

/* Margin Left/Right */
.bbai-ml-0 { margin-left: var(--bbai-space-0); }
.bbai-ml-1 { margin-left: var(--bbai-space-1); }
.bbai-ml-2 { margin-left: var(--bbai-space-2); }
.bbai-ml-3 { margin-left: var(--bbai-space-3); }
.bbai-ml-4 { margin-left: var(--bbai-space-4); }
.bbai-mr-0 { margin-right: var(--bbai-space-0); }
.bbai-mr-1 { margin-right: var(--bbai-space-1); }
.bbai-mr-2 { margin-right: var(--bbai-space-2); }
.bbai-mr-3 { margin-right: var(--bbai-space-3); }
.bbai-mr-4 { margin-right: var(--bbai-space-4); }

/* Margin X (horizontal) */
.bbai-mx-auto { margin-left: auto; margin-right: auto; }
.bbai-mx-0 { margin-left: var(--bbai-space-0); margin-right: var(--bbai-space-0); }
.bbai-mx-2 { margin-left: var(--bbai-space-2); margin-right: var(--bbai-space-2); }
.bbai-mx-4 { margin-left: var(--bbai-space-4); margin-right: var(--bbai-space-4); }

/* Margin Y (vertical) */
.bbai-my-0 { margin-top: var(--bbai-space-0); margin-bottom: var(--bbai-space-0); }
.bbai-my-2 { margin-top: var(--bbai-space-2); margin-bottom: var(--bbai-space-2); }
.bbai-my-4 { margin-top: var(--bbai-space-4); margin-bottom: var(--bbai-space-4); }
.bbai-my-6 { margin-top: var(--bbai-space-6); margin-bottom: var(--bbai-space-6); }

/* Padding */
.bbai-p-0 { padding: var(--bbai-space-0); }
.bbai-p-1 { padding: var(--bbai-space-1); }
.bbai-p-2 { padding: var(--bbai-space-2); }
.bbai-p-3 { padding: var(--bbai-space-3); }
.bbai-p-4 { padding: var(--bbai-space-4); }
.bbai-p-5 { padding: var(--bbai-space-5); }
.bbai-p-6 { padding: var(--bbai-space-6); }
.bbai-p-8 { padding: var(--bbai-space-8); }
.bbai-p-10 { padding: var(--bbai-space-10); }
.bbai-p-12 { padding: var(--bbai-space-12); }

/* Padding X (horizontal) */
.bbai-px-0 { padding-left: var(--bbai-space-0); padding-right: var(--bbai-space-0); }
.bbai-px-2 { padding-left: var(--bbai-space-2); padding-right: var(--bbai-space-2); }
.bbai-px-3 { padding-left: var(--bbai-space-3); padding-right: var(--bbai-space-3); }
.bbai-px-4 { padding-left: var(--bbai-space-4); padding-right: var(--bbai-space-4); }
.bbai-px-6 { padding-left: var(--bbai-space-6); padding-right: var(--bbai-space-6); }

/* Padding Y (vertical) */
.bbai-py-0 { padding-top: var(--bbai-space-0); padding-bottom: var(--bbai-space-0); }
.bbai-py-2 { padding-top: var(--bbai-space-2); padding-bottom: var(--bbai-space-2); }
.bbai-py-3 { padding-top: var(--bbai-space-3); padding-bottom: var(--bbai-space-3); }
.bbai-py-4 { padding-top: var(--bbai-space-4); padding-bottom: var(--bbai-space-4); }
.bbai-py-6 { padding-top: var(--bbai-space-6); padding-bottom: var(--bbai-space-6); }

/* Show/Hide utilities */
.bbai-show { display: block !important; }
.bbai-show-flex { display: flex !important; }

/* Accessibility utilities */
.bbai-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

.bbai-skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    z-index: 10000;
    padding: var(--bbai-space-2) var(--bbai-space-4);
    background: var(--bbai-primary);
    color: white;
    text-decoration: none;
    border-radius: var(--bbai-radius);
}

.bbai-skip-link:focus {
    top: var(--bbai-space-2);
}

/* High contrast mode */
.bbai-high-contrast * {
    border-color: currentColor !important;
}

.bbai-high-contrast .bbai-btn {
    border: 2px solid currentColor;
}

/* Focus visible */
.bbai-focus-visible:focus-visible {
    outline: 2px solid var(--bbai-primary);
    outline-offset: 2px;
}

/* ============================================
   ARIA & ACCESSIBILITY ENHANCEMENTS
   ============================================ */

/* Enhanced focus indicators for WCAG compliance */
[aria-expanded="true"]::after,
[aria-expanded="false"]::after {
    transition: transform var(--bbai-transition-fast) var(--bbai-ease-out);
}

[aria-expanded="true"]::after {
    transform: rotate(180deg);
}

/* Live region announcement styles */
[aria-live="polite"],
[aria-live="assertive"] {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Visible live region for status messages */
.bbai-live-region--visible {
    position: static;
    width: auto;
    height: auto;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
}

/* Disabled state indicator */
[aria-disabled="true"] {
    opacity: 0.6;
    cursor: not-allowed;
    pointer-events: none;
}

/* Button with aria-pressed state */
[aria-pressed="true"] {
    background: var(--bbai-primary-soft);
    border-color: var(--bbai-primary);
    color: var(--bbai-primary);
}

/* Required field indicator */
[aria-required="true"]::before,
.bbai-required::before {
    content: '* ';
    color: var(--bbai-error);
    font-weight: var(--bbai-font-bold);
}

/* Invalid field styling */
[aria-invalid="true"] {
    border-color: var(--bbai-error) !important;
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
}

[aria-invalid="true"]:focus {
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

/* Busy state indicator */
[aria-busy="true"] {
    position: relative;
    pointer-events: none;
}

[aria-busy="true"]::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 20px;
    height: 20px;
    margin: -10px 0 0 -10px;
    border: 2px solid var(--bbai-gray-300);
    border-top-color: var(--bbai-primary);
    border-radius: 50%;
    animation: bbai-spin 0.8s linear infinite;
}

/* Selected state for options */
[aria-selected="true"] {
    background: var(--bbai-primary-soft);
    color: var(--bbai-primary);
}

/* Current page/item indicator */
[aria-current="page"],
[aria-current="true"] {
    font-weight: var(--bbai-font-bold);
    color: var(--bbai-primary);
}

/* Hidden but focusable for dropdown menus */
.bbai-dropdown-menu[aria-hidden="true"] {
    display: none;
    visibility: hidden;
}

.bbai-dropdown-menu[aria-hidden="false"] {
    display: block;
    visibility: visible;
}

/* Touch target sizing (44px minimum per WCAG 2.1) */
.bbai-touch-target {
    min-width: 44px;
    min-height: 44px;
}

.bbai-touch-target-sm {
    min-width: 36px;
    min-height: 36px;
}

/* Icon button accessibility - requires aria-label */
.bbai-icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 44px;
    min-height: 44px;
    padding: var(--bbai-space-2);
    background: transparent;
    border: 1px solid transparent;
    border-radius: var(--bbai-radius);
    cursor: pointer;
    transition: all var(--bbai-transition-fast) var(--bbai-ease-out);
}

.bbai-icon-btn:hover {
    background: var(--bbai-bg-secondary);
}

.bbai-icon-btn:focus-visible {
    outline: 2px solid var(--bbai-primary);
    outline-offset: 2px;
}

.bbai-icon-btn svg {
    width: 20px;
    height: 20px;
    color: var(--bbai-text-secondary);
}

.bbai-icon-btn:hover svg {
    color: var(--bbai-text);
}

/* Dropdown with ARIA support */
.bbai-dropdown {
    position: relative;
}

.bbai-dropdown-trigger {
    display: inline-flex;
    align-items: center;
    gap: var(--bbai-space-2);
    padding: var(--bbai-space-2) var(--bbai-space-3);
    background: var(--bbai-bg);
    border: 1px solid var(--bbai-border);
    border-radius: var(--bbai-radius);
    cursor: pointer;
    min-height: 44px;
}

.bbai-dropdown-trigger:focus-visible {
    outline: 2px solid var(--bbai-primary);
    outline-offset: 2px;
}

.bbai-dropdown-trigger[aria-expanded="true"] {
    border-color: var(--bbai-primary);
}

.bbai-dropdown-content {
    position: absolute;
    top: 100%;
    left: 0;
    z-index: 100;
    min-width: 200px;
    margin-top: var(--bbai-space-1);
    padding: var(--bbai-space-1);
    background: var(--bbai-bg);
    border: 1px solid var(--bbai-border);
    border-radius: var(--bbai-radius);
    box-shadow: var(--bbai-shadow-lg);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-8px);
    transition: all var(--bbai-transition-fast) var(--bbai-ease-out);
}

.bbai-dropdown-trigger[aria-expanded="true"] + .bbai-dropdown-content,
.bbai-dropdown-content[aria-hidden="false"] {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.bbai-dropdown-item {
    display: flex;
    align-items: center;
    gap: var(--bbai-space-2);
    width: 100%;
    padding: var(--bbai-space-2) var(--bbai-space-3);
    background: transparent;
    border: none;
    border-radius: var(--bbai-radius-sm);
    color: var(--bbai-text);
    font-size: var(--bbai-text-sm);
    text-align: left;
    cursor: pointer;
    min-height: 40px;
}

.bbai-dropdown-item:hover,
.bbai-dropdown-item:focus {
    background: var(--bbai-bg-secondary);
}

.bbai-dropdown-item:focus-visible {
    outline: 2px solid var(--bbai-primary);
    outline-offset: -2px;
}

/* Focus trap container for modals */
.bbai-focus-trap {
    outline: none;
}

.bbai-focus-trap:focus {
    outline: none;
}

/* ============================================
   FLEXBOX UTILITIES
   ============================================ */

.bbai-flex { display: flex; }
.bbai-flex-col { flex-direction: column; }
.bbai-flex-row { flex-direction: row; }
.bbai-flex-wrap { flex-wrap: wrap; }
.bbai-flex-nowrap { flex-wrap: nowrap; }

/* Alignment */
.bbai-items-start { align-items: flex-start; }
.bbai-items-center { align-items: center; }
.bbai-items-end { align-items: flex-end; }
.bbai-items-stretch { align-items: stretch; }

/* Justify Content */
.bbai-justify-start { justify-content: flex-start; }
.bbai-justify-center { justify-content: center; }
.bbai-justify-end { justify-content: flex-end; }
.bbai-justify-between { justify-content: space-between; }
.bbai-justify-around { justify-content: space-around; }
.bbai-justify-evenly { justify-content: space-evenly; }

/* Gap */
.bbai-gap-0 { gap: var(--bbai-space-0); }
.bbai-gap-1 { gap: var(--bbai-space-1); }
.bbai-gap-2 { gap: var(--bbai-space-2); }
.bbai-gap-3 { gap: var(--bbai-space-3); }
.bbai-gap-4 { gap: var(--bbai-space-4); }
.bbai-gap-5 { gap: var(--bbai-space-5); }
.bbai-gap-6 { gap: var(--bbai-space-6); }
.bbai-gap-8 { gap: var(--bbai-space-8); }

/* ============================================
   BACKGROUND COLOR UTILITIES
   ============================================ */

.bbai-bg-primary { background-color: var(--bbai-primary); }
.bbai-bg-success { background-color: var(--bbai-success); }
.bbai-bg-error { background-color: var(--bbai-error); }
.bbai-bg-warning { background-color: var(--bbai-warning); }
.bbai-bg-info { background-color: var(--bbai-info); }
.bbai-bg-white { background-color: var(--bbai-white); }
.bbai-bg-gray-50 { background-color: var(--bbai-gray-50); }
.bbai-bg-gray-100 { background-color: var(--bbai-gray-100); }
.bbai-bg-gray-200 { background-color: var(--bbai-gray-200); }

/* Display */
.bbai-hidden { display: none !important; }
.bbai-block { display: block; }
.bbai-inline { display: inline; }
.bbai-inline-block { display: inline-block; }
.bbai-inline-flex { display: inline-flex; }
.bbai-w-full { width: 100%; }

/* Text Alignment - Already defined above in Typography section */

/* ============================================
   ANIMATION UTILITIES
   ============================================ */

.bbai-transition { transition: var(--bbai-transition); }
.bbai-transition-colors { transition: var(--bbai-transition-colors); }
.bbai-transition-transform { transition: var(--bbai-transition-transform); }

/* Hover Effects */
.bbai-hover-lift:hover {
    transform: translateY(-2px);
    transition: transform var(--bbai-transition-base) var(--bbai-ease-out);
}

.bbai-hover-scale:hover {
    transform: scale(1.02);
    transition: transform var(--bbai-transition-base) var(--bbai-ease-out);
}

.bbai-hover-glow:hover {
    box-shadow: var(--bbai-shadow-lg), var(--bbai-glow-primary);
    transition: box-shadow var(--bbai-transition-base) var(--bbai-ease-out);
}

/* Opacity */
.bbai-opacity-50 { opacity: 0.5; }
.bbai-opacity-90 { opacity: 0.9; }

/* Icon */
.bbai-icon-inline { margin-right: 12px; vertical-align: middle; }
.bbai-icon-inline--sm { margin-right: 10px; }
.bbai-icon-inline--xs { margin-right: 8px; }

/* Tab Content */
.bbai-admin-tab-content { display: none; }
.bbai-admin-tab-content.is-active { display: block; }

/* Progress Status */
.bbai-dashboard__status { display: none; }
.bbai-dashboard__status.is-visible { display: block; }

/* Debug Rows */
.bbai-debug-context-row { display: none; }
.bbai-debug-context-row.is-expanded { display: table-row; }

/* Credit Usage Page */
.bbai-credit-page-title { font-size: var(--bbai-text-2xl); font-weight: var(--bbai-font-semibold); color: var(--bbai-text); margin-bottom: var(--bbai-space-6); }
.bbai-usage-summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--bbai-space-6); margin: var(--bbai-space-8) 0; }
.bbai-credit-stat-card { background: var(--bbai-bg); border: 1px solid var(--bbai-border); border-radius: var(--bbai-radius); padding: var(--bbai-space-6); box-shadow: var(--bbai-shadow-sm); }
.bbai-credit-stat-card:hover { box-shadow: var(--bbai-shadow); }
.bbai-credit-stat-title { font-size: var(--bbai-text-sm); font-weight: var(--bbai-font-semibold); color: var(--bbai-text); margin: 0 0 var(--bbai-space-3) 0; }
.bbai-credit-stat-value { font-size: var(--bbai-text-2xl); font-weight: var(--bbai-font-bold); margin: var(--bbai-space-2) 0; line-height: 1.2; }
.bbai-credit-stat-value--primary { color: var(--bbai-text); }
.bbai-credit-stat-value--success { color: var(--bbai-success); }
.bbai-credit-stat-value--primary-brand { color: var(--bbai-primary); }
.bbai-credit-stat-desc { color: var(--bbai-text-muted); font-size: var(--bbai-text-sm); margin: 0; }

/* Filter Form */
.bbai-filter-form { background: var(--bbai-bg-secondary); border: 1px solid var(--bbai-border); border-radius: var(--bbai-radius); padding: var(--bbai-space-4); margin-bottom: var(--bbai-space-6); display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--bbai-space-3); }
.bbai-filter-label { display: block; font-weight: var(--bbai-font-semibold); margin-bottom: var(--bbai-space-2); color: var(--bbai-text); }
.bbai-filter-input, .bbai-filter-select { width: 100%; padding: var(--bbai-space-2) var(--bbai-space-3); border: 1px solid var(--bbai-border); border-radius: var(--bbai-radius); font-size: var(--bbai-text-sm); background: var(--bbai-bg); color: var(--bbai-text); }
.bbai-filter-input:focus, .bbai-filter-select:focus { outline: none; border-color: var(--bbai-primary); box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1); }
.bbai-filter-submit { align-self: flex-end; }

/* Misc Cards */
.bbai-user-details-card { background: var(--bbai-bg); border: 1px solid var(--bbai-border); border-radius: var(--bbai-radius); padding: var(--bbai-space-6); margin-bottom: var(--bbai-space-6); }
.bbai-user-details-title { font-size: var(--bbai-text-xl); font-weight: var(--bbai-font-bold); margin: 0 0 var(--bbai-space-4) 0; color: var(--bbai-text); }
.bbai-table-card { background: var(--bbai-bg); border: 1px solid var(--bbai-border); border-radius: var(--bbai-radius); padding: var(--bbai-space-4); }
.bbai-table-title { font-size: var(--bbai-text-lg); font-weight: var(--bbai-font-bold); margin: 0 0 var(--bbai-space-3) 0; color: var(--bbai-text); }
.bbai-table-subtitle { color: var(--bbai-text-muted); font-size: var(--bbai-text-xs); }

/* Maintenance Card */
.bbai-maintenance-card { margin-top: var(--bbai-space-6); padding: var(--bbai-space-4); background: var(--bbai-error-bg); border: 1px solid var(--bbai-error-light); border-radius: var(--bbai-radius); }
.bbai-maintenance-title { margin-top: 0; color: var(--bbai-error); font-weight: var(--bbai-font-bold); }
.bbai-maintenance-desc { margin-bottom: var(--bbai-space-3); }

/* License Key */
.bbai-license-key-display { margin-top: var(--bbai-space-2); font-size: var(--bbai-text-xs); color: var(--bbai-text-muted); font-family: var(--bbai-font-mono); word-break: break-all; }

/* Back Button */
.bbai-back-btn { display: inline-flex; align-items: center; gap: var(--bbai-space-2); padding: var(--bbai-space-2) var(--bbai-space-4); background: var(--bbai-primary); color: white; border: none; border-radius: var(--bbai-radius); font-weight: var(--bbai-font-medium); font-size: var(--bbai-text-sm); text-decoration: none; transition: background var(--bbai-transition); }
.bbai-back-btn:hover { background: var(--bbai-primary-hover); color: white; }

/* Skeleton Loading */
@keyframes bbai-skeleton-pulse { 
    0% { background-position: 200% 0; } 
    100% { background-position: -200% 0; } 
}

.bbai-skeleton { 
    background: linear-gradient(90deg, var(--bbai-gray-200) 0%, var(--bbai-gray-100) 50%, var(--bbai-gray-200) 100%); 
    background-size: 200% 100%; 
    animation: bbai-skeleton-pulse 1.5s ease-in-out infinite; 
    border-radius: var(--bbai-radius); 
}

.bbai-skeleton--text { 
    height: 14px; 
    width: 100%; 
    margin-bottom: 8px;
}

.bbai-skeleton--text:last-child {
    width: 60%;
}

.bbai-skeleton--thumbnail { 
    width: 60px; 
    height: 60px; 
    flex-shrink: 0;
    border-radius: var(--bbai-radius);
}

.bbai-skeleton--badge { 
    width: 70px; 
    height: 22px; 
    border-radius: var(--bbai-radius-full); 
}

.bbai-skeleton--button { 
    width: 100px; 
    height: 36px; 
}

.bbai-skeleton--card {
    height: 120px;
    width: 100%;
    border-radius: var(--bbai-radius-lg);
}

.bbai-skeleton--table-row {
    height: 60px;
    width: 100%;
    margin-bottom: 8px;
}

.bbai-loading .bbai-content { 
    display: none; 
}

.bbai-loading .bbai-skeleton-container { 
    display: block; 
}

.bbai-skeleton-container { 
    display: none; 
}

/* Progress Bar */
.bbai-progress-bar-container {
    width: 100%;
    padding: var(--bbai-space-4);
    background: var(--bbai-gray-50);
    border-radius: var(--bbai-radius-lg);
    border: 1px solid var(--bbai-gray-200);
}

.bbai-progress-bar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--bbai-space-2);
}

.bbai-progress-label {
    font-size: var(--bbai-text-sm);
    font-weight: var(--bbai-font-semibold);
    color: var(--bbai-text);
}

.bbai-progress-percentage {
    font-size: var(--bbai-text-sm);
    font-weight: var(--bbai-font-bold);
    color: var(--bbai-primary);
}

.bbai-progress-bar {
    width: 100%;
    height: 8px;
    background: var(--bbai-gray-200);
    border-radius: var(--bbai-radius-full);
    overflow: hidden;
    margin-bottom: var(--bbai-space-2);
}

.bbai-progress-bar-fill {
    height: 100%;
    background: var(--bbai-primary-gradient);
    border-radius: var(--bbai-radius-full);
    transition: width 0.3s ease;
    position: relative;
    overflow: hidden;
}

.bbai-progress-bar-fill::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    animation: bbai-progress-shimmer 1.5s infinite;
}

@keyframes bbai-progress-shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.bbai-progress-bar-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--bbai-text-xs);
    color: var(--bbai-text-muted);
}

.bbai-progress-count {
    font-weight: var(--bbai-font-medium);
}

.bbai-progress-eta {
    font-style: italic;
}

.bbai-progress-active {
    display: block;
}
